{"version":3,"sources":["serviceWorker.js","components/Header/Header.js","components/Main/Main.js","components/Footer/Footer.js","api/api.js","components/CircleRating/CircleRating.js","components/MovieCard/MovieCard.js","components/App/App.js","index.js"],"names":["Boolean","window","location","hostname","match","Header","props","findMovieHandler","findFormClear","changeFilter","className","id","name","onSubmit","type","placeholder","onClick","onChange","data-filter","defaultChecked","htmlFor","Main","background","bg","style","backgroundImage","cards","Footer","state","paginationHandler","pageInputHandler","data-page","disabled","page","error","isLoading","min","max","total_pages","defaultValue","onKeyUp","mainUrl","serializeMovies","arr","reduce","acc","movie","fetchMovies","filter","adult","findMovie","a","currPage","currFilter","isAdult","findingMovie","response","urlParam","param","length","fetch","ok","Error","json","moviesRes","results","moviesWithBanners","map","banner","poster_path","movies","console","log","CircleRating","this","rating","width","ratingColor","ratingWidth","ctx","document","getElementById","getContext","onePercent","Math","PI","beginPath","arc","strokeStyle","lineWidth","stroke","textColor","bgColor","fontSize","fontWeight","overflow","height","borderRadius","position","display","justifyContent","alignItems","backgroundColor","transform","color","zIndex","React","Component","MovieCard","releaseYear","release_date","slice","cardClick","original_title","Number","vote_average","App","getMovies","setState","documentElement","scrollTop","body","e","pageNumberInput","querySelector","target","dataset","value","findForm","reset","preventDefault","nextPage","keyCode","elements","trim","clickCardHandler","movieBg","Object","values","index","key","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.977b3423.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\n\nconst Header = (props) => {\n  const { findMovieHandler, findFormClear, changeFilter } = props;\n  return (\n    <header>\n      <div className=\"header-wrapper\">\n        <h1 id=\"headerTitle\">Movies by TMDB</h1>\n        <form\n          name=\"find-form\"\n          className=\"find-form\"\n          onSubmit={findMovieHandler}\n        >\n          <input\n            name=\"find-input\"\n            type=\"text\"\n            placeholder=\"Type to find movie\"\n          />\n          <i className=\"fa fa-search\"></i>\n          <i className=\"fa fa-close\" onClick={findFormClear}></i>\n        </form>\n        <form\n          name=\"filter-form\"\n          className=\"filter-form\"\n          onChange={changeFilter}\n        >\n          <h3>Filter by: </h3>\n          <div className=\"inputs-wrapper\">\n            <input\n              id=\"filter1\"\n              name=\"filter\"\n              type=\"radio\"\n              data-filter=\"popularity.desc\"\n              defaultChecked\n            />\n            <label htmlFor=\"filter1\">Popularity</label>\n            <input\n              id=\"filter2\"\n              name=\"filter\"\n              type=\"radio\"\n              data-filter=\"release_date.desc\"\n            />\n            <label htmlFor=\"filter2\">Release date</label>\n            <input\n              id=\"filter3\"\n              name=\"filter\"\n              type=\"radio\"\n              data-filter=\"vote_average.desc\"\n            />\n            <label htmlFor=\"filter3\">Vote</label>\n            <input\n              type=\"checkbox\"\n              name=\"filter_adult\"\n              id=\"filter4\"\n              defaultChecked={false}\n            />\n            <label htmlFor=\"filter4\">Adult</label>\n          </div>\n        </form>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nconst Main = (props) => {\n  const background = props.bg;\n  return (\n    <main>\n      <div\n        className=\"main-bg\"\n        style={{ backgroundImage: `${background}` }}\n      ></div>\n      <div className=\"main-wrapper\" id=\"main-wrapper\">\n        {props.cards}\n      </div>\n    </main>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\n\nconst Footer = (props) => {\n  const { state, paginationHandler, pageInputHandler } = props;\n  return (\n    <footer>\n      <div className=\"footer-wrapper\">\n        <button\n          data-page=\"first\"\n          onClick={paginationHandler}\n          disabled={\n            state.page === 1 || state.error || state.isLoading ? true : false\n          }\n          className=\"primary\"\n        >\n          Page 1\n        </button>\n        <button\n          data-page=\"previous\"\n          onClick={paginationHandler}\n          disabled={\n            state.page === 1 || state.error || state.isLoading ? true : false\n          }\n          className=\"primary\"\n        >\n          <i className=\"fa fa-chevron-left\"></i>\n          Prev\n        </button>\n        <span data-page=\"current\" className=\"current-page\">\n          Current Page:\n          <span className=\"current-page__number\">\n            {\" \"}\n            <input\n              id=\"currentPage\"\n              type=\"number\"\n              min=\"1\"\n              max={state.total_pages}\n              defaultValue={state.page}\n              onKeyUp={pageInputHandler}\n            />{\" \"}\n            from {state.total_pages}\n          </span>\n        </span>\n        <button\n          data-page=\"next\"\n          onClick={paginationHandler}\n          disabled={\n            state.total_pages === state.page || state.error || state.isLoading\n              ? true\n              : false\n          }\n          className=\"primary\"\n        >\n          Next\n          <i className=\"fa fa-chevron-right\"></i>\n        </button>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","/*\n * https://www.themoviedb.org/settings/api\n * Ключ API (v3 auth)  21629b2bbf4bb4857806d309dcfd1837\n *\n * Пример API-запроса all films  https://api.themoviedb.org/3/discover/movie?api_key=21629b2bbf4bb4857806d309dcfd1837&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1\n *\n * Пример API-запроса film by id  https://api.themoviedb.org/3/movie/550?api_key=21629b2bbf4bb4857806d309dcfd1837\n *\n * Ключ доступа к API (v4 auth)\n * eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMTYyOWIyYmJmNGJiNDg1NzgwNmQzMDlkY2ZkMTgzNyIsInN1YiI6IjVlOTMwZjczY2NiMTVmMDAxMzZmMDFhMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.BLBaAiEsfkafJrpXoK5GHft3hGuE9hGlA6S-dI6b2OU\n *\n * https://developers.themoviedb.org/3/configuration/get-api-configuration\n */\n\nconst mainUrl = `https://api.themoviedb.org/3`;\nconst mainImgUrl = `https://image.tmdb.org`;\nconst apiKey = `21629b2bbf4bb4857806d309dcfd1837`;\n\nfunction serializeMovies(arr) {\n  return arr.reduce((acc, movie) => {\n    acc[movie.id] = movie;\n    return acc;\n  }, {});\n}\n\nfunction setBanner(arr) {\n  return arr.map((movie) => ({\n    ...movie,\n    banner: movie.poster_path\n      ? `${mainImgUrl}/t/p/w500${movie.poster_path}`\n      : \"img/blank-img.jpg\",\n    //https://image.tmdb.org/t/p/w500/kqjL17yufvn9OVLyXYpvtyrFfak.jpg\n  }));\n}\n\nconst fetchMovies = async (page, filter, adult, findMovie) => {\n  const currPage = page;\n  const currFilter = filter;\n  const isAdult = adult;\n  const findingMovie = findMovie;\n  try {\n    let response = null;\n    let urlParam = \"\";\n    let param = \"\";\n    if (currFilter === \"search\" && findingMovie.length) {\n      urlParam = `${mainUrl}/search`;\n      param = `query=${findingMovie}`;\n    } else {\n      urlParam = `${mainUrl}/discover`;\n      param = `sort_by=${currFilter}`;\n    }\n    response = await fetch(\n      `${urlParam}/movie?api_key=${apiKey}&language=en-US&${param}&include_adult=${isAdult}&page=${currPage}`\n    );\n    if (!response.ok) {\n      throw new Error(`Cant fetch movies!`);\n    }\n    const moviesRes = await response.json();\n    const { page, total_pages, results } = moviesRes;\n    const moviesWithBanners = setBanner(results);\n    const movies = serializeMovies(moviesWithBanners);\n    return {\n      error: false,\n      page,\n      total_pages,\n      movies,\n    };\n  } catch (error) {\n    console.log(error);\n    return { error: true, page, total_pages: null, movies: null };\n  }\n};\n\nexport { fetchMovies };\n","import React from \"react\";\n// import \"./circle-rating.scss\";\n\nclass CircleRating extends React.Component {\n  componentDidMount() {\n    const {\n      rating = 0,\n      width = 40,\n      ratingColor = \"#06cf10\",\n      ratingWidth = 3,\n      id,\n    } = this.props;\n\n    const canvas = document.getElementById(id);\n    const ctx = canvas.getContext(\"2d\");\n    const pi = Math.PI;\n    const oneDegree = pi / 180;\n    const onePercent = (360 / 100) * oneDegree;\n\n    // bg-circle\n    ctx.beginPath();\n    ctx.arc(\n      width / 2,\n      width / 2,\n      width / 2 - ratingWidth,\n      0,\n      onePercent * 100,\n      false\n    );\n    ctx.strokeStyle = \"#707070\";\n    ctx.lineWidth = ratingWidth;\n    ctx.stroke();\n\n    // rating-circle\n    ctx.beginPath();\n    ctx.arc(\n      width / 2,\n      width / 2,\n      width / 2 - ratingWidth,\n      0,\n      onePercent * (rating * 10),\n      false\n    );\n    // ctx.arc(x, y, radius, angel_start, angel_end, anticlockwise);\n    ctx.lineWidth = ratingWidth;\n    ctx.strokeStyle = \"tomato\";\n    if (rating * 10 >= 80) {\n      ctx.strokeStyle = ratingColor;\n    } else if (rating * 10 >= 40) {\n      ctx.strokeStyle = \"yellow\";\n    }\n    ctx.lineWidth = ratingWidth;\n    ctx.stroke();\n  }\n  render() {\n    const {\n      rating = 0,\n      width = 40,\n      textColor = \"#fff\",\n      bgColor = \"#000\",\n      fontSize = \"14\",\n      fontWeight = \"normal\",\n      id\n    } = this.props; //60, 100\n\n    return (\n      <div\n        className=\"canvas-wrapper\"\n        style={{\n          overflow: \"hidden\",\n          width: `${width}px`,\n          height: `${width}px`,\n          borderRadius: \"50%\",\n          position: \"relative\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          backgroundColor: `${bgColor}`,\n        }}\n      >\n        <canvas\n          id={id}\n          className=\"canvas\"\n          width={width}\n          height={width}\n          style={{\n            transform: \"rotate(-90deg)\",\n            position: \"absolute\",\n          }}\n        ></canvas>\n        <span\n          className=\"rating-label\"\n          style={{\n            color: `${textColor}`,\n            fontSize: `${fontSize}px`,\n            fontWeight: `${fontWeight}`,\n            display: \"block\",\n            position: \"absolute\",\n            zIndex: \"100\",\n            // transform: \"translateX(-50%)\",\n            // left: width / 2 + 1,\n          }}\n        >\n          {rating || \"NR\"}\n          <span\n            style={{\n              color: `${textColor}`,\n              fontSize: `${fontSize - 6}px`,\n              fontWeight: `normal`,\n            }}\n          >\n            {/* <sup>{rating ? '%' : null}</sup> */}\n          </span>\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default CircleRating;\n","import React from \"react\";\nimport \"./movie-card.scss\";\nimport CircleRating from \"./../CircleRating/CircleRating\";\n\nconst MovieCard = (props) => {\n  const { movie } = props;\n  const releaseYear = movie.release_date\n    ? movie.release_date.slice(0, 4)\n    : \"No release data\";\n  return (\n    <div className=\"movie-card\" onClick={() => props.cardClick(`url(${\n            movie.banner ? movie.banner : `./img/blank-img.jpg`\n          })`)}>\n      <div\n        className=\"movie-bg\"\n        style={{\n          backgroundImage: `url(${\n            movie.banner ? movie.banner : `./img/blank-img.jpg`\n          })`,\n        }}\n      ></div>\n      <div className=\"movie-overview\">\n        <p className=\"movie-year\">{releaseYear}</p>\n        <p className=\"movie-title\">{movie.original_title}</p>\n        <div className=\"rating-wrapper\">\n          <CircleRating\n            rating={Number(movie.vote_average) || null}\n            id={movie.id}\n          />\n        </div>\n      </div>\n\n      {/* <span className=\"movie-year\">{movie.vote_average}</span> */}\n    </div>\n  );\n};\n\nexport default MovieCard;\n","import React, { Component } from \"react\";\n\nimport Header from \"./../Header/Header\";\nimport Main from \"./../Main/Main\";\nimport Footer from \"./../Footer/Footer\";\nimport { fetchMovies } from \"../../api/api\";\nimport MovieCard from \"./../MovieCard/MovieCard\";\nimport \"./app.scss\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      error: false,\n      movies: null, // {movieId: movieObject}\n      page: 1,\n      total_pages: null,\n      isLoading: false,\n      filter: \"popularity.desc\", // vote_average.desc,  release_date.desc\n      adult: false,\n      findMovie: null,\n      backgroundImage: 'transparent'\n    };\n  }\n\n  async componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies = async () => {\n    await this.setState(() => ({\n      isLoading: true,\n    }));\n\n    const { error, page, total_pages, movies } = await fetchMovies(\n      this.state.page,\n      this.state.filter,\n      this.state.adult,\n      this.state.findMovie\n    );\n\n    await this.setState(() => ({\n      error,\n      movies,\n      page,\n      total_pages,\n      isLoading: false,\n    }));\n\n    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n    document.body.scrollTop = 0; // For Safari\n  };\n\n  paginationHandler = async (e) => {\n    const pageNumberInput = document.querySelector(\"#currentPage\");\n    const { page } = e.target.dataset;\n    switch (page) {\n      case \"first\":\n        await this.setState(() => ({\n          page: 1,\n        }));\n        break;\n      case \"previous\":\n        await this.setState(() => ({\n          page: this.state.page !== 1 ? this.state.page - 1 : this.state.page,\n        }));\n        break;\n      case \"next\":\n        await this.setState(() => ({\n          page: this.state.page + 1,\n        }));\n        break;\n    }\n    pageNumberInput.value = this.state.page;\n    await this.getMovies(this.state.page);\n  };\n\n  changeFilter = async (e) => {\n    const pageNumberInput = document.querySelector(\"#currentPage\");\n    const findForm = document.querySelector(\".find-form\");\n    if (e.target.name === \"filter_adult\") {\n      await this.setState(() => ({ adult: !this.state.adult, page: 1 }));\n    } else {\n      const { filter } = e.target.dataset;\n      await this.setState(() => ({ filter, page: 1, findMovie: null }));\n      findForm.reset();\n    }\n    pageNumberInput.value = this.state.page;\n\n    this.getMovies();\n  };\n\n  pageInputHandler = async (e) => {\n    e.preventDefault();\n    const nextPage = e.target.value;\n    if (e.keyCode === 13 && nextPage <= this.state.total_pages) {\n      await this.setState(() => ({ page: nextPage }));\n      this.getMovies();\n    }\n  };\n\n  findMovieHandler = async (e) => {\n    e.preventDefault();\n    const findForm = e.target;\n    const findMovie = findForm.elements[\"find-input\"].value.trim();\n    if (findMovie.length) {\n      this.setState(() => ({ filter: \"search\", findMovie, page: 1 }));\n      await this.getMovies();\n      // findForm.reset();\n    }\n  };\n\n  findFormClear = async (e) => {\n    const pageNumberInput = document.querySelector(\"#currentPage\");\n    const findForm = document.querySelector(\".find-form\");\n    findForm.reset();\n    await this.setState(() => ({\n      filter: \"popularity.desc\",\n      findMovie: null,\n      page: 1,\n    }));\n    await this.getMovies();\n    pageNumberInput.value = this.state.page;\n  };\n\n  clickCardHandler = async (movieBg) => {\n    await this.setState(() => ({ backgroundImage: movieBg }));\n  }\n\n  render() {\n    // console.log(this);\n\n    const cards =\n      !this.state.movies || this.state.error ? (\n        <div>\n          Error for fetching movies... Connect with administrator, please.\n        </div>\n      ) : (\n        Object.values(this.state.movies).map((movie, index) => {\n          return (\n            <MovieCard\n              movie={movie}\n              key={movie.id}\n              cardClick={this.clickCardHandler}\n            />\n          );\n        })\n      );\n\n    return (\n      <div className=\"app-wrapper\">\n        <Header\n          findMovieHandler={this.findMovieHandler}\n          findFormClear={this.findFormClear}\n          changeFilter={this.changeFilter}\n        />\n        <Main cards={cards} bg={this.state.backgroundImage}/>\n        <Footer\n          state={this.state}\n          paginationHandler={this.paginationHandler}\n          pageInputHandler={this.pageInputHandler}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"./index.scss\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}